# API de Licenciamento â€“ Exemplos de Uso

## ğŸ” CLIENTE â€“ Solicitar LicenÃ§a
**POST /solicitacao**

Body:
{
  "device_id": "1234567890ABCDEF"
}

Resposta:
- status: "aprovado"
- status: "bloqueado"
- status: "pendente"

---

## ğŸ” CLIENTE â€“ Verificar LicenÃ§a
**POST /licenca/verificar**

Body:
{
  "token": "meu-token-licenca"
}

Resposta:
{
  "dias_restantes": 7,
  "data_validade": "2025-07-05",
  "erp_nome": "ERP VarejoFÃ¡cil"
}

---

## ğŸ§‘â€ğŸ’¼ ADMIN â€“ Listar SolicitaÃ§Ãµes Pendentes
**GET /admin/solicitacoes**

Resposta:
[
  {
    "id": 1,
    "device_id": "1234567890ABCDEF",
    "data": "2025-06-27T14:00:00Z"
  }
]

---

## âœ… ADMIN â€“ Aprovar SolicitaÃ§Ã£o
**POST /admin/aprovar**

Body:
{
  "device_id": "1234567890ABCDEF",
  "token": "meu-token-unico",
  "erp_nome": "ERP VarejoFÃ¡cil",
  "dias": 7
}

Resposta:
{
  "status": "LicenÃ§a aprovada e registrada",
  "validade": "2025-07-04"
}

---

## ğŸ“‹ ADMIN â€“ Listar LicenÃ§as
**GET /admin/licencas**

Exemplos:
- /admin/licencas?status=ativo
- /admin/licencas?status=inativo

Resposta:
[
  {
    "device_id": "1234567890ABCDEF",
    "token": "meu-token-unico",
    "erp_nome": "ERP VarejoFÃ¡cil",
    "data_validade": "2025-07-04",
    "autorizado": true
  }
]

---

## ğŸš« ADMIN â€“ Bloquear LicenÃ§a
**POST /admin/bloquear**

Body:
{
  "token": "meu-token-unico"
}

Resposta:
{
  "status": "LicenÃ§a bloqueada com sucesso"
}

---

## ğŸ” ADMIN â€“ Reativar LicenÃ§a
**POST /admin/reativar**

Body:
{
  "token": "meu-token-unico"
}

Resposta:
{
  "status": "LicenÃ§a reativada com sucesso"
}

---

## âŒ ADMIN â€“ Excluir LicenÃ§a
**POST /admin/excluir-licenca**

Body:
{
  "token": "meu-token-unico"
}

Resposta:
{
  "status": "LicenÃ§a excluÃ­da com sucesso"
}

---

## ğŸ—‘ï¸ ADMIN â€“ Excluir SolicitaÃ§Ã£o
**POST /admin/excluir-solicitacao**

Body:
{
  "device_id": "1234567890ABCDEF"
}

Ou para apagar todas:
{}

Resposta:
{
  "status": "SolicitaÃ§Ã£o do device_id 1234567890ABCDEF excluÃ­da"
}

---

## âœ… Checklist de Testes no Postman:

| MÃ©todo | URL                          | Requer Body? | Finalidade                          |
|--------|------------------------------|--------------|-------------------------------------|
| POST   | /solicitacao                 | Sim          | Cliente solicita licenÃ§a            |
| POST   | /licenca/verificar           | Sim          | Cliente verifica validade do token  |
| GET    | /admin/solicitacoes          | NÃ£o          | Admin vÃª pendÃªncias                 |
| POST   | /admin/aprovar               | Sim          | Admin aprova licenÃ§a nova           |
| GET    | /admin/licencas              | NÃ£o ou filtro| Admin lista licenÃ§as                |
| POST   | /admin/bloquear              | Sim          | Admin bloqueia                      |
| POST   | /admin/reativar              | Sim          | Admin reativa                       |
| POST   | /admin/excluir-licenca       | Sim          | Admin exclui licenÃ§a                |
| POST   | /admin/excluir-solicitacao   | Sim ou vazio | Admin exclui solicitaÃ§Ãµes           |
